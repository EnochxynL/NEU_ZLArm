<xml version="Mixly 2.0 rc3" board="Arduino AVR@Arduino/Genuino Uno">
    <block type="factory_block_with_textarea" id="~CD`,cz(}cq43]oUtyu5" x="523" y="-309">
        <field name="VALUE">
            /****************************&amp;#10;颜色识别夹取木块&amp;#10;实验效果：&amp;#10;
            将红绿蓝其中任意一种颜色的木块放置在机械臂正前方8厘米左右处，&amp;#10; K210会根据识别到的木块颜色来将对应的木块放置到对应位置：&amp;#10;
            如果识别到的是红色木块，则夹取红色模块放置到前方偏远位置；&amp;#10; 如果识别到的是绿色木块，则夹取绿色模块放置到左侧偏远位置；&amp;#10;
            如果识别到的是蓝色木块，则夹取蓝色模块放置到右侧偏远位置；&amp;#10;
            未识别到红绿蓝木块时，保持不动。&amp;#10;注意：环境光会对识别有影响，找比较合适的环境来运行此程序。&amp;#10;****************************/</field>
    </block>
    <block type="base_setup" id="R.WF+]Jt(E.3@)/yL$iH" x="520" y="-23">
        <statement name="DO">
            <block type="serial_begin" id="9]C?f.l)yWV_L!ofhWrg">
                <field name="serial_select">Serial</field>
                <value name="CONTENT">
                    <shadow type="math_number" id="e;)mWGn=W[S,HYeyR!cG">
                        <field name="NUM">115200</field>
                    </shadow>
                </value>
                <next>
                    <block type="SentryBegin" id="01IlPkxAR?b^:1SaslSQ">
                        <field name="mode_obj">Wire</field>
                        <field name="addr_obj">0x60</field>
                        <next>
                            <block type="SentrySetAWB" id=";.9/F]yy8C)5/^Gk9Jnk">
                                <field name="awb_obj">kAutoWhiteBalance</field>
                                <next>
                                    <block type="SentryVisionSetStatus" id="i~fXa!I@b-)O]yw,{sC}">
                                        <field name="VisionStatus">Begin</field>
                                        <field name="vision_obj">Sentry2::kVisionBlob</field>
                                        <next>
                                            <block type="variables_declare"
                                                id="9I]J;A#euY$b6IED5?So">
                                                <field name="variables_type">global_variate</field>
                                                <field name="VAR">systick_ms_bak</field>
                                                <field name="TYPE">long</field>
                                                <value name="VALUE">
                                                    <block type="math_number"
                                                        id="?xh3.2,}`QiR0S{6:5GT">
                                                        <field name="NUM">0</field>
                                                    </block>
                                                </value>
                                                <next>
                                                    <block type="variables_declare"
                                                        id="V*$YfDKue~gQ6m@;ilg{">
                                                        <field name="variables_type">global_variate</field>
                                                        <field name="VAR">detection_position_action</field>
                                                        <field name="TYPE">String</field>
                                                        <comment pinned="false" h="80" w="160">
                                                            机械臂最适合识别木块的位置的动作组</comment>
                                                        <value name="VALUE">
                                                            <block type="text"
                                                                id="mxHwW0J1=PYyAOVnYvW.">
                                                                <field name="TEXT">$DGT:2-2,1!</field>
                                                            </block>
                                                        </value>
                                                        <next>
                                                            <block type="variables_declare"
                                                                id="k2V|ZP5g:4zh3n;esvNl">
                                                                <field name="variables_type">
                                                                    global_variate</field>
                                                                <field name="VAR">clamp_action</field>
                                                                <field name="TYPE">String</field>
                                                                <comment pinned="false" h="80"
                                                                    w="160">夹取动作组，即前抓动作组</comment>
                                                                <value name="VALUE">
                                                                    <block type="text"
                                                                        id="St_Xpg|,G9p;AG=[{[7Y">
                                                                        <field name="TEXT">
                                                                            $DGT:3-7,1!</field>
                                                                    </block>
                                                                </value>
                                                                <next>
                                                                    <block type="variables_declare"
                                                                        id="f@46nfV$P9GHJrv!H)an">
                                                                        <field name="variables_type">
                                                                            global_variate</field>
                                                                        <field name="VAR">
                                                                            red_clamp_action</field>
                                                                        <field name="TYPE">String</field>
                                                                        <comment pinned="false"
                                                                            h="80" w="160">
                                                                            红色木块的放置动作组，即前放动作组</comment>
                                                                        <value name="VALUE">
                                                                            <block type="text"
                                                                                id="*6$D4}0OFH;ZBJIXhwhq">
                                                                                <field name="TEXT">
                                                                                    $DGT:18-21,1!</field>
                                                                            </block>
                                                                        </value>
                                                                        <next>
                                                                            <block
                                                                                type="variables_declare"
                                                                                id="h^]GC6_jW=#2*G[CviM-">
                                                                                <field
                                                                                    name="variables_type">
                                                                                    global_variate</field>
                                                                                <field name="VAR">
                                                                                    green_clamp_action</field>
                                                                                <field name="TYPE">
                                                                                    String</field>
                                                                                <comment
                                                                                    pinned="false"
                                                                                    h="80" w="160">
                                                                                    绿色木块的放置动作组，即左放动作组</comment>
                                                                                <value name="VALUE">
                                                                                    <block
                                                                                        type="text"
                                                                                        id="dcwn*tFKjnt}#T$[gNV-">
                                                                                        <field
                                                                                            name="TEXT">
                                                                                            $DGT:22-26,1!</field>
                                                                                    </block>
                                                                                </value>
                                                                                <next>
                                                                                    <block
                                                                                        type="variables_declare"
                                                                                        id="$*b=g!Eh1`rb^BgT?gTo">
                                                                                        <field
                                                                                            name="variables_type">
                                                                                            global_variate</field>
                                                                                        <field
                                                                                            name="VAR">
                                                                                            blue_clamp_action</field>
                                                                                        <field
                                                                                            name="TYPE">
                                                                                            String</field>
                                                                                        <comment
                                                                                            pinned="false"
                                                                                            h="80"
                                                                                            w="160">
                                                                                            蓝色木块的放置动作组，即右放动作组</comment>
                                                                                        <value
                                                                                            name="VALUE">
                                                                                            <block
                                                                                                type="text"
                                                                                                id="PF6tY9ifJmQoC+B5,A]t">
                                                                                                <field
                                                                                                    name="TEXT">
                                                                                                    $DGT:27-31,1!</field>
                                                                                            </block>
                                                                                        </value>
                                                                                        <next>
                                                                                            <block
                                                                                                type="variables_declare"
                                                                                                id="-K3Y,D3Nq[h;kN4;eNca">
                                                                                                <field
                                                                                                    name="variables_type">
                                                                                                    global_variate</field>
                                                                                                <field
                                                                                                    name="VAR">
                                                                                                    target_color_appear_count</field>
                                                                                                <field
                                                                                                    name="TYPE">
                                                                                                    int</field>
                                                                                                <comment
                                                                                                    pinned="false"
                                                                                                    h="80"
                                                                                                    w="160">
                                                                                                    目标颜色实际出现的次数，每次目标颜色出现的次数超过5次时，才认为真的识别到了目标颜色，是为了防止误识别</comment>
                                                                                                <value
                                                                                                    name="VALUE">
                                                                                                    <block
                                                                                                        type="math_number"
                                                                                                        id="Yqp@T16K@9D|0D+*@2iP">
                                                                                                        <field
                                                                                                            name="NUM">
                                                                                                            0</field>
                                                                                                    </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                    <block
                                                                                                        type="variables_declare"
                                                                                                        id="u{dw:ut))gX7;L9Bx!fi">
                                                                                                        <field
                                                                                                            name="variables_type">
                                                                                                            global_variate</field>
                                                                                                        <field
                                                                                                            name="VAR">
                                                                                                            detected_color</field>
                                                                                                        <field
                                                                                                            name="TYPE">
                                                                                                            String</field>
                                                                                                        <comment
                                                                                                            pinned="false"
                                                                                                            h="80"
                                                                                                            w="160">
                                                                                                            记录检测到的颜色</comment>
                                                                                                        <value
                                                                                                            name="VALUE">
                                                                                                            <block
                                                                                                                type="text"
                                                                                                                id="^ePY]]^WRc2Fsf:z-fVS">
                                                                                                                <field
                                                                                                                    name="TEXT"></field>
                                                                                                            </block>
                                                                                                        </value>
                                                                                                        <next>
                                                                                                            <block
                                                                                                                type="controls_delay"
                                                                                                                id="rki[GycRJ),7^Z^(wwyv">
                                                                                                                <field
                                                                                                                    name="UNIT">
                                                                                                                    delay</field>
                                                                                                                <value
                                                                                                                    name="DELAY_TIME">
                                                                                                                    <shadow
                                                                                                                        type="math_number"
                                                                                                                        id="1Bc6}amvEIbo@N3Y-r1G">
                                                                                                                        <field
                                                                                                                            name="NUM">
                                                                                                                            1000</field>
                                                                                                                    </shadow>
                                                                                                                </value>
                                                                                                                <next>
                                                                                                                    <block
                                                                                                                        type="serial_println"
                                                                                                                        id=",V/mFCOsb-R9JX^:,]I7">
                                                                                                                        <field
                                                                                                                            name="serial_select">
                                                                                                                            Serial</field>
                                                                                                                        <field
                                                                                                                            name="new_line">
                                                                                                                            println</field>
                                                                                                                        <value
                                                                                                                            name="CONTENT">
                                                                                                                            <block
                                                                                                                                type="text"
                                                                                                                                id="nebESxob8m`+kc=`f]MN">
                                                                                                                                <field
                                                                                                                                    name="TEXT">
                                                                                                                                    init
                                                                                                                                    ok!</field>
                                                                                                                            </block>
                                                                                                                        </value>
                                                                                                                        <next>
                                                                                                                            <block
                                                                                                                                type="controls_delay"
                                                                                                                                id="^6^K2wZc#iCj:.7`C7/S">
                                                                                                                                <field
                                                                                                                                    name="UNIT">
                                                                                                                                    delay</field>
                                                                                                                                <value
                                                                                                                                    name="DELAY_TIME">
                                                                                                                                    <shadow
                                                                                                                                        type="math_number"
                                                                                                                                        id="+bnY8K9g~KHzhs:}`1jA">
                                                                                                                                        <field
                                                                                                                                            name="NUM">
                                                                                                                                            2000</field>
                                                                                                                                    </shadow>
                                                                                                                                </value>
                                                                                                                                <next>
                                                                                                                                    <block
                                                                                                                                        type="serial_println"
                                                                                                                                        id="9XgM-(OI|JF;f,^,bD^/">
                                                                                                                                        <field
                                                                                                                                            name="serial_select">
                                                                                                                                            Serial</field>
                                                                                                                                        <field
                                                                                                                                            name="new_line">
                                                                                                                                            println</field>
                                                                                                                                        <value
                                                                                                                                            name="CONTENT">
                                                                                                                                            <block
                                                                                                                                                type="variables_get"
                                                                                                                                                id="HB$[tx!T7Z7#wkj3$C[_">
                                                                                                                                                <field
                                                                                                                                                    name="VAR">
                                                                                                                                                    detection_position_action</field>
                                                                                                                                            </block>
                                                                                                                                        </value>
                                                                                                                                        <next>
                                                                                                                                            <block
                                                                                                                                                type="controls_delay"
                                                                                                                                                id="YhMPmC=Wxsl496IHeiz-">
                                                                                                                                                <field
                                                                                                                                                    name="UNIT">
                                                                                                                                                    delay</field>
                                                                                                                                                <value
                                                                                                                                                    name="DELAY_TIME">
                                                                                                                                                    <shadow
                                                                                                                                                        type="math_number"
                                                                                                                                                        id="SNR#YbE1m:/zsYD1dE({">
                                                                                                                                                        <field
                                                                                                                                                            name="NUM">
                                                                                                                                                            2000</field>
                                                                                                                                                    </shadow>
                                                                                                                                                </value>
                                                                                                                                            </block>
                                                                                                                                        </next>
                                                                                                                                    </block>
                                                                                                                                </next>
                                                                                                                            </block>
                                                                                                                        </next>
                                                                                                                    </block>
                                                                                                                </next>
                                                                                                            </block>
                                                                                                        </next>
                                                                                                    </block>
                                                                                                </next>
                                                                                            </block>
                                                                                        </next>
                                                                                    </block>
                                                                                </next>
                                                                            </block>
                                                                        </next>
                                                                    </block>
                                                                </next>
                                                            </block>
                                                        </next>
                                                    </block>
                                                </next>
                                            </block>
                                        </next>
                                    </block>
                                </next>
                            </block>
                        </next>
                    </block>
                </next>
            </block>
        </statement>
    </block>
    <block type="procedures_defnoreturn" id="YAVoA@efL?|;gEpy=fDN" x="1258" y="-59">
        <field name="NAME">loop_K210</field>
        <statement name="STACK">
            <block type="variables_declare" id="27/!NomyL4d,5C+WOKIa">
                <field name="variables_type">global_variate</field>
                <field name="VAR">count</field>
                <field name="TYPE">int</field>
                <value name="VALUE">
                    <block type="math_number" id="s2da`LSDER8r:x-{N^hf">
                        <field name="NUM">1</field>
                    </block>
                </value>
                <next>
                    <block type="controls_if" id="`KB-!`$+Pn;p)fU:uawr">
                        <value name="IF0">
                            <block type="logic_compare" id="5xk+knwbY|Ax3bx`UhvE">
                                <field name="OP">GT</field>
                                <value name="A">
                                    <block type="math_arithmetic" id="g`G:)5d`sD{d~_TxuE2f">
                                        <field name="OP">MINUS</field>
                                        <value name="A">
                                            <shadow type="math_number">
                                                <field name="NUM">1</field>
                                            </shadow>
                                            <block type="controls_millis" id="Fnc*.F]jkw/pPZl;c{kR">
                                                <field name="UNIT">millis</field>
                                            </block>
                                        </value>
                                        <value name="B">
                                            <shadow type="math_number">
                                                <field name="NUM">1</field>
                                            </shadow>
                                            <block type="variables_get" id="iYqky;8XyF]xbPOx@;fb">
                                                <field name="VAR">systick_ms_bak</field>
                                            </block>
                                        </value>
                                    </block>
                                </value>
                                <value name="B">
                                    <block type="math_number" id="v8Fo-/Rf2@+vi|q`kA3$">
                                        <field name="NUM">50</field>
                                    </block>
                                </value>
                            </block>
                        </value>
                        <statement name="DO0">
                            <block type="variables_set" id="Mkn`v40SU|--MgkXbFig">
                                <field name="VAR">systick_ms_bak</field>
                                <value name="VALUE">
                                    <block type="controls_millis" id="h:(izQdZ-ouOEk)nV.@v">
                                        <field name="UNIT">millis</field>
                                    </block>
                                </value>
                                <next>
                                    <block type="variables_set" id="y69pHaiGJ7UY[CdccI#D">
                                        <field name="VAR">count</field>
                                        <value name="VALUE">
                                            <block type="SentryVisionDetectedCount"
                                                id="u,V+isQ6ao2J*B{u{F5y">
                                                <field name="vision_obj">Sentry2::kVisionBlob</field>
                                            </block>
                                        </value>
                                        <next>
                                            <block type="controls_if" id="teu/:3jM/,EMm#+*G0,d">
                                                <value name="IF0">
                                                    <block type="logic_compare"
                                                        id="8,8Ll5f/SwLb}Mahj0cg">
                                                        <field name="OP">EQ</field>
                                                        <value name="A">
                                                            <block type="variables_get"
                                                                id=",k9s3/^5/)coPkk1![kl">
                                                                <field name="VAR">count</field>
                                                            </block>
                                                        </value>
                                                        <value name="B">
                                                            <block type="math_number"
                                                                id="PcM|+hrOU!x=SP84]38H">
                                                                <field name="NUM">1</field>
                                                            </block>
                                                        </value>
                                                    </block>
                                                </value>
                                                <statement name="DO0">
                                                    <block type="controls_if"
                                                        id="V8]C]oiukSEM!)Q*1GK`">
                                                        <value name="IF0">
                                                            <block type="logic_operation"
                                                                id="F,0wl3OOY.XIb#7IrHdk"
                                                                inline="false">
                                                                <field name="OP">OR</field>
                                                                <value name="A">
                                                                    <block
                                                                        type="SentryVisionDetected"
                                                                        id="WmW~DN5]w?Qzx|u,rJAz">
                                                                        <value
                                                                            name="sentry_detected_obj">
                                                                            <block
                                                                                type="SentryVisionCardBlob"
                                                                                id="r)}R`?#vT^qHfmP5bV#n"
                                                                                deletable="false"
                                                                                movable="false">
                                                                                <field
                                                                                    name="vision_obj">
                                                                                    Sentry2::kVisionBlob</field>
                                                                                <field
                                                                                    name="vision_card_obj">
                                                                                    Sentry2::kColorRed</field>
                                                                            </block>
                                                                        </value>
                                                                        <value name="index">
                                                                            <shadow
                                                                                type="math_number"
                                                                                id="}Szg;eY.|67QdjXN[49A">
                                                                                <field name="NUM">1</field>
                                                                            </shadow>
                                                                        </value>
                                                                    </block>
                                                                </value>
                                                                <value name="B">
                                                                    <block type="logic_operation"
                                                                        id="oPX_yKzKzii6E|xxE?U/"
                                                                        inline="false">
                                                                        <field name="OP">OR</field>
                                                                        <value name="A">
                                                                            <block
                                                                                type="SentryVisionDetected"
                                                                                id="QBi$j!gu;w!;,yJro3jO">
                                                                                <value
                                                                                    name="sentry_detected_obj">
                                                                                    <block
                                                                                        type="SentryVisionCardBlob"
                                                                                        id="46gnk7EdUCCWyg97h4K7"
                                                                                        deletable="false"
                                                                                        movable="false">
                                                                                        <field
                                                                                            name="vision_obj">
                                                                                            Sentry2::kVisionBlob</field>
                                                                                        <field
                                                                                            name="vision_card_obj">
                                                                                            Sentry2::kColorGreen</field>
                                                                                    </block>
                                                                                </value>
                                                                                <value name="index">
                                                                                    <shadow
                                                                                        type="math_number"
                                                                                        id="k2$c5[b#kRu#`Je+U;~|">
                                                                                        <field
                                                                                            name="NUM">
                                                                                            1</field>
                                                                                    </shadow>
                                                                                </value>
                                                                            </block>
                                                                        </value>
                                                                        <value name="B">
                                                                            <block
                                                                                type="SentryVisionDetected"
                                                                                id="M.3H3mdI9aoyjOjTdXLm">
                                                                                <value
                                                                                    name="sentry_detected_obj">
                                                                                    <block
                                                                                        type="SentryVisionCardBlob"
                                                                                        id="bw]19^?ODJ*uOO*79y,v"
                                                                                        deletable="false"
                                                                                        movable="false">
                                                                                        <field
                                                                                            name="vision_obj">
                                                                                            Sentry2::kVisionBlob</field>
                                                                                        <field
                                                                                            name="vision_card_obj">
                                                                                            Sentry2::kColorBlue</field>
                                                                                    </block>
                                                                                </value>
                                                                                <value name="index">
                                                                                    <shadow
                                                                                        type="math_number"
                                                                                        id="p|kf8Q/GJJBw0~[!=(+$">
                                                                                        <field
                                                                                            name="NUM">
                                                                                            1</field>
                                                                                    </shadow>
                                                                                </value>
                                                                            </block>
                                                                        </value>
                                                                    </block>
                                                                </value>
                                                            </block>
                                                        </value>
                                                        <statement name="DO0">
                                                            <block type="variables_set"
                                                                id="Yqr:Lb}bYr)}zt=oGNpl">
                                                                <field name="VAR">
                                                                    target_color_appear_count</field>
                                                                <value name="VALUE">
                                                                    <block type="math_arithmetic"
                                                                        id="e}-An1o(o=v!}TCU.hLZ">
                                                                        <field name="OP">ADD</field>
                                                                        <value name="A">
                                                                            <shadow
                                                                                type="math_number">
                                                                                <field name="NUM">1</field>
                                                                            </shadow>
                                                                            <block
                                                                                type="variables_get"
                                                                                id="F-4N7:ceS,y[{8fpC`xM">
                                                                                <field name="VAR">
                                                                                    target_color_appear_count</field>
                                                                            </block>
                                                                        </value>
                                                                        <value name="B">
                                                                            <shadow
                                                                                type="math_number"
                                                                                id="*J|/@]OZ9+u/7ye=AG=)">
                                                                                <field name="NUM">1</field>
                                                                            </shadow>
                                                                        </value>
                                                                    </block>
                                                                </value>
                                                                <next>
                                                                    <block type="controls_if"
                                                                        id="AH$zv-)XZXIGw-LRDZ#F">
                                                                        <mutation elseif="2"></mutation>
                                                                        <value name="IF0">
                                                                            <block
                                                                                type="SentryVisionDetected"
                                                                                id="E]RH18`CGPj;i_!obP*s">
                                                                                <value
                                                                                    name="sentry_detected_obj">
                                                                                    <block
                                                                                        type="SentryVisionCardBlob"
                                                                                        id="#gmCZqE.6u(}tT_k$wf?"
                                                                                        deletable="false"
                                                                                        movable="false">
                                                                                        <field
                                                                                            name="vision_obj">
                                                                                            Sentry2::kVisionBlob</field>
                                                                                        <field
                                                                                            name="vision_card_obj">
                                                                                            Sentry2::kColorRed</field>
                                                                                    </block>
                                                                                </value>
                                                                                <value name="index">
                                                                                    <shadow
                                                                                        type="math_number"
                                                                                        id="K|X7XhY}6^av$]JsExw3">
                                                                                        <field
                                                                                            name="NUM">
                                                                                            1</field>
                                                                                    </shadow>
                                                                                </value>
                                                                            </block>
                                                                        </value>
                                                                        <statement name="DO0">
                                                                            <block
                                                                                type="variables_set"
                                                                                id="7@/FY_MyUJd3?wocv2^g">
                                                                                <field name="VAR">
                                                                                    detected_color</field>
                                                                                <value name="VALUE">
                                                                                    <block
                                                                                        type="text"
                                                                                        id="DZ?v1_b:JrJcZy1IgpwO">
                                                                                        <field
                                                                                            name="TEXT">
                                                                                            red</field>
                                                                                    </block>
                                                                                </value>
                                                                            </block>
                                                                        </statement>
                                                                        <value name="IF1">
                                                                            <block
                                                                                type="SentryVisionDetected"
                                                                                id="Fm`|n.;r`It,EC^`HoJ-">
                                                                                <value
                                                                                    name="sentry_detected_obj">
                                                                                    <block
                                                                                        type="SentryVisionCardBlob"
                                                                                        id="7lz!}H(wn*h9Fev)j6@."
                                                                                        deletable="false"
                                                                                        movable="false">
                                                                                        <field
                                                                                            name="vision_obj">
                                                                                            Sentry2::kVisionBlob</field>
                                                                                        <field
                                                                                            name="vision_card_obj">
                                                                                            Sentry2::kColorGreen</field>
                                                                                    </block>
                                                                                </value>
                                                                                <value name="index">
                                                                                    <shadow
                                                                                        type="math_number"
                                                                                        id="OjEK}t7R1,Rwhrs(O)UW">
                                                                                        <field
                                                                                            name="NUM">
                                                                                            1</field>
                                                                                    </shadow>
                                                                                </value>
                                                                            </block>
                                                                        </value>
                                                                        <statement name="DO1">
                                                                            <block
                                                                                type="variables_set"
                                                                                id="_+uRtTJgK,8.#!XUyqBv">
                                                                                <field name="VAR">
                                                                                    detected_color</field>
                                                                                <value name="VALUE">
                                                                                    <block
                                                                                        type="text"
                                                                                        id=";;[t1_o/h5jqQ/8t|m_z">
                                                                                        <field
                                                                                            name="TEXT">
                                                                                            green</field>
                                                                                    </block>
                                                                                </value>
                                                                            </block>
                                                                        </statement>
                                                                        <value name="IF2">
                                                                            <block
                                                                                type="SentryVisionDetected"
                                                                                id="THMJXA{h?uD!ZZPZ[Ie.">
                                                                                <value
                                                                                    name="sentry_detected_obj">
                                                                                    <block
                                                                                        type="SentryVisionCardBlob"
                                                                                        id="8moc(x/TR=A3A3ke1Eu("
                                                                                        deletable="false"
                                                                                        movable="false">
                                                                                        <field
                                                                                            name="vision_obj">
                                                                                            Sentry2::kVisionBlob</field>
                                                                                        <field
                                                                                            name="vision_card_obj">
                                                                                            Sentry2::kColorBlue</field>
                                                                                    </block>
                                                                                </value>
                                                                                <value name="index">
                                                                                    <shadow
                                                                                        type="math_number"
                                                                                        id="KsjOCG9ztB1^y_X+Km:i">
                                                                                        <field
                                                                                            name="NUM">
                                                                                            1</field>
                                                                                    </shadow>
                                                                                </value>
                                                                            </block>
                                                                        </value>
                                                                        <statement name="DO2">
                                                                            <block
                                                                                type="variables_set"
                                                                                id="V,RY2o31#iTqU4B*eV.k">
                                                                                <field name="VAR">
                                                                                    detected_color</field>
                                                                                <value name="VALUE">
                                                                                    <block
                                                                                        type="text"
                                                                                        id="3Sggsn#RBW3_k3mt2teo">
                                                                                        <field
                                                                                            name="TEXT">
                                                                                            blue</field>
                                                                                    </block>
                                                                                </value>
                                                                            </block>
                                                                        </statement>
                                                                    </block>
                                                                </next>
                                                            </block>
                                                        </statement>
                                                    </block>
                                                </statement>
                                                <next>
                                                    <block type="procedures_callnoreturn"
                                                        id="]y_I`83r*Am+?xvhowv$">
                                                        <mutation name="color_sort"></mutation>
                                                    </block>
                                                </next>
                                            </block>
                                        </next>
                                    </block>
                                </next>
                            </block>
                        </statement>
                    </block>
                </next>
            </block>
        </statement>
    </block>
    <block type="procedures_defnoreturn" id="U7Dna!_m)`vX4P7ohM2K" x="2061" y="-61">
        <field name="NAME">color_sort</field>
        <statement name="STACK">
            <block type="controls_if" id="emcO08icMs-$K=L7RH!;">
                <value name="IF0">
                    <block type="logic_compare" id="6Z`S}{:JetS.g`jAULw(">
                        <field name="OP">GT</field>
                        <value name="A">
                            <block type="variables_get" id="$YHnNkDJt*-a:VP(9Ob-">
                                <field name="VAR">target_color_appear_count</field>
                            </block>
                        </value>
                        <value name="B">
                            <block type="math_number" id="FUNFG4jDw,4*QsjHm:p:">
                                <field name="NUM">5</field>
                            </block>
                        </value>
                    </block>
                </value>
                <statement name="DO0">
                    <block type="serial_println" id="OwT(!#[eN,9k71Y?yUG-">
                        <field name="serial_select">Serial</field>
                        <field name="new_line">println</field>
                        <comment pinned="false" h="80" w="160">串口将前抓动作组指令发出去</comment>
                        <value name="CONTENT">
                            <block type="variables_get" id="G1GLqeaPe#}@l_BE.aN|">
                                <field name="VAR">clamp_action</field>
                            </block>
                        </value>
                        <next>
                            <block type="controls_delay" id="Y8|;R:15}THbWdPO~h(f">
                                <field name="UNIT">delay</field>
                                <value name="DELAY_TIME">
                                    <shadow type="math_number" id="P2pDn^R!m}y|-5vY1rq=">
                                        <field name="NUM">8000</field>
                                    </shadow>
                                </value>
                                <next>
                                    <block type="controls_if" id="yh|W=|M35/5AN^Mnff_z">
                                        <mutation elseif="2"></mutation>
                                        <value name="IF0">
                                            <block type="logic_compare" id="3S,-Deh[.=3lw#PJi#`[">
                                                <field name="OP">EQ</field>
                                                <value name="A">
                                                    <block type="variables_get"
                                                        id="*eWK6dpZO_~vBSor$Y6k">
                                                        <field name="VAR">detected_color</field>
                                                    </block>
                                                </value>
                                                <value name="B">
                                                    <block type="text" id=")?+n-[v-yY`?OwP2jG3H">
                                                        <field name="TEXT">red</field>
                                                    </block>
                                                </value>
                                            </block>
                                        </value>
                                        <statement name="DO0">
                                            <block type="serial_println" id="V^N8SDqbv)~5FXC]t|d?">
                                                <field name="serial_select">Serial</field>
                                                <field name="new_line">println</field>
                                                <comment pinned="false" h="80" w="160">
                                                    串口将红色木块对应的放置动作组发出去</comment>
                                                <value name="CONTENT">
                                                    <block type="variables_get"
                                                        id="|xd,;-YD9sLIG)N-O[_R">
                                                        <field name="VAR">red_clamp_action</field>
                                                    </block>
                                                </value>
                                            </block>
                                        </statement>
                                        <value name="IF1">
                                            <block type="logic_compare" id="z(UH(VR#GWhX{05uA=z*">
                                                <field name="OP">EQ</field>
                                                <value name="A">
                                                    <block type="variables_get"
                                                        id="p]2tZ?4_D/w;yYRLEUKx">
                                                        <field name="VAR">detected_color</field>
                                                    </block>
                                                </value>
                                                <value name="B">
                                                    <block type="text" id="Wr9aiFo#tB;jE5~LNgE`">
                                                        <field name="TEXT">green</field>
                                                    </block>
                                                </value>
                                            </block>
                                        </value>
                                        <statement name="DO1">
                                            <block type="serial_println" id=":LDV*@84BV@q#E5-r4/Q">
                                                <field name="serial_select">Serial</field>
                                                <field name="new_line">println</field>
                                                <comment pinned="false" h="80" w="160">
                                                    串口将绿色木块对应的放置动作组发出去</comment>
                                                <value name="CONTENT">
                                                    <block type="variables_get"
                                                        id="Sv~Ifw6B0V-7hX^#v=wP">
                                                        <field name="VAR">green_clamp_action</field>
                                                    </block>
                                                </value>
                                            </block>
                                        </statement>
                                        <value name="IF2">
                                            <block type="logic_compare" id="M$}+zHP=Q47^.y@WraI,">
                                                <field name="OP">EQ</field>
                                                <value name="A">
                                                    <block type="variables_get"
                                                        id="el?ZwCF4|`wGJ_dhMikT">
                                                        <field name="VAR">detected_color</field>
                                                    </block>
                                                </value>
                                                <value name="B">
                                                    <block type="text" id="14wHOAJIo[x~C1d$^=P1">
                                                        <field name="TEXT">blue</field>
                                                    </block>
                                                </value>
                                            </block>
                                        </value>
                                        <statement name="DO2">
                                            <block type="serial_println" id="0v${j^)]-``.G3=fgtp/">
                                                <field name="serial_select">Serial</field>
                                                <field name="new_line">println</field>
                                                <comment pinned="false" h="80" w="160">
                                                    串口将蓝色木块对应的放置动作组发出去</comment>
                                                <value name="CONTENT">
                                                    <block type="variables_get"
                                                        id="[iwdkYDu`/BM@)N-^G2r">
                                                        <field name="VAR">blue_clamp_action</field>
                                                    </block>
                                                </value>
                                            </block>
                                        </statement>
                                        <next>
                                            <block type="controls_delay" id="I@r2+8-jnubY**2kaGO[">
                                                <field name="UNIT">delay</field>
                                                <value name="DELAY_TIME">
                                                    <shadow type="math_number"
                                                        id="8g5-Jph*)=0HzGnh8;tr">
                                                        <field name="NUM">8000</field>
                                                    </shadow>
                                                </value>
                                                <next>
                                                    <block type="serial_println"
                                                        id="Yz1fgx8|UHHO*]?Edmp!">
                                                        <field name="serial_select">Serial</field>
                                                        <field name="new_line">println</field>
                                                        <comment pinned="false" h="80" w="160">
                                                            放置完木块后，再次运行到最适合的识别位置</comment>
                                                        <value name="CONTENT">
                                                            <block type="variables_get"
                                                                id="/l5T_u`0zBzQMc,H.vXT">
                                                                <field name="VAR">
                                                                    detection_position_action</field>
                                                            </block>
                                                        </value>
                                                        <next>
                                                            <block type="controls_delay"
                                                                id="![i4+L!`+zz/+*)sB9eo">
                                                                <field name="UNIT">delay</field>
                                                                <value name="DELAY_TIME">
                                                                    <shadow type="math_number"
                                                                        id="wxUTFvUD{XHR=lzx3#?8">
                                                                        <field name="NUM">2000</field>
                                                                    </shadow>
                                                                </value>
                                                                <next>
                                                                    <block type="variables_set"
                                                                        id="[LOZm(o0*`Q+lACQK2xS">
                                                                        <field name="VAR">
                                                                            target_color_appear_count</field>
                                                                        <value name="VALUE">
                                                                            <block
                                                                                type="math_number"
                                                                                id="){dXQTSq*YJY0Pc5UK.}">
                                                                                <field name="NUM">0</field>
                                                                            </block>
                                                                        </value>
                                                                        <next>
                                                                            <block
                                                                                type="variables_set"
                                                                                id="uMHTI,zHsO}NslmsZ;[n">
                                                                                <field name="VAR">
                                                                                    detected_color</field>
                                                                                <value name="VALUE">
                                                                                    <block
                                                                                        type="text"
                                                                                        id="=O$XF(Ry=CGm)pUx.i.c">
                                                                                        <field
                                                                                            name="TEXT"></field>
                                                                                    </block>
                                                                                </value>
                                                                            </block>
                                                                        </next>
                                                                    </block>
                                                                </next>
                                                            </block>
                                                        </next>
                                                    </block>
                                                </next>
                                            </block>
                                        </next>
                                    </block>
                                </next>
                            </block>
                        </next>
                    </block>
                </statement>
            </block>
        </statement>
    </block>
    <block type="ZLKPZAR_START2" id="tds3zrsA[O4/t]2T-zz(" x="520" y="620">
        <statement name="DO">
            <block type="procedures_callnoreturn" id="3KqH|qUV_wxu|t5Z:qfE">
                <mutation name="loop_K210"></mutation>
            </block>
        </statement>
    </block>
</xml>
<code>
    CiNpbmNsdWRlIDxTZW50cnkuaD4KI2luY2x1ZGUgPFdpcmUuaD4KClNlbnRyeTIgc2VudHJ5KDB4NjApOwp2b2xhdGlsZSBsb25nIHN5c3RpY2tfbXNfYmFrOwpTdHJpbmcgZGV0ZWN0aW9uX3Bvc2l0aW9uX2FjdGlvbjsKU3RyaW5nIGNsYW1wX2FjdGlvbjsKU3RyaW5nIHJlZF9jbGFtcF9hY3Rpb247ClN0cmluZyBncmVlbl9jbGFtcF9hY3Rpb247ClN0cmluZyBibHVlX2NsYW1wX2FjdGlvbjsKdm9sYXRpbGUgaW50IHRhcmdldF9jb2xvcl9hcHBlYXJfY291bnQ7ClN0cmluZyBkZXRlY3RlZF9jb2xvcjsKdm9sYXRpbGUgaW50IGNvdW50OwoKdm9pZCBsb29wX0syMTAoKSB7CiAgaWYgKG1pbGxpcygpIC0gc3lzdGlja19tc19iYWsgPiA1MCkgewogICAgc3lzdGlja19tc19iYWsgPSBtaWxsaXMoKTsKICAgIGNvdW50ID0gc2VudHJ5LkdldFZhbHVlKFNlbnRyeTI6OmtWaXNpb25CbG9iLCBrU3RhdHVzKTsKICAgIGlmIChjb3VudCA9PSAxKSB7CiAgICAgIGlmICgoc2VudHJ5LkdldFZhbHVlKFNlbnRyeTI6OmtWaXNpb25CbG9iLGtMYWJlbCwxKT09U2VudHJ5Mjo6a0NvbG9yUmVkKSB8fCAoKHNlbnRyeS5HZXRWYWx1ZShTZW50cnkyOjprVmlzaW9uQmxvYixrTGFiZWwsMSk9PVNlbnRyeTI6OmtDb2xvckdyZWVuKSB8fCAoc2VudHJ5LkdldFZhbHVlKFNlbnRyeTI6OmtWaXNpb25CbG9iLGtMYWJlbCwxKT09U2VudHJ5Mjo6a0NvbG9yQmx1ZSkpKSB7CiAgICAgICAgdGFyZ2V0X2NvbG9yX2FwcGVhcl9jb3VudCA9IHRhcmdldF9jb2xvcl9hcHBlYXJfY291bnQgKyAxOwogICAgICAgIGlmICgoc2VudHJ5LkdldFZhbHVlKFNlbnRyeTI6OmtWaXNpb25CbG9iLGtMYWJlbCwxKT09U2VudHJ5Mjo6a0NvbG9yUmVkKSkgewogICAgICAgICAgZGV0ZWN0ZWRfY29sb3IgPSAicmVkIjsKCiAgICAgICAgfSBlbHNlIGlmICgoc2VudHJ5LkdldFZhbHVlKFNlbnRyeTI6OmtWaXNpb25CbG9iLGtMYWJlbCwxKT09U2VudHJ5Mjo6a0NvbG9yR3JlZW4pKSB7CiAgICAgICAgICBkZXRlY3RlZF9jb2xvciA9ICJncmVlbiI7CiAgICAgICAgfSBlbHNlIGlmICgoc2VudHJ5LkdldFZhbHVlKFNlbnRyeTI6OmtWaXNpb25CbG9iLGtMYWJlbCwxKT09U2VudHJ5Mjo6a0NvbG9yQmx1ZSkpIHsKICAgICAgICAgIGRldGVjdGVkX2NvbG9yID0gImJsdWUiOwogICAgICAgIH0KCiAgICAgIH0KCiAgICB9CiAgICBjb2xvcl9zb3J0KCk7CgogIH0KfQoKdm9pZCBjb2xvcl9zb3J0KCkgewogIGlmICh0YXJnZXRfY29sb3JfYXBwZWFyX2NvdW50ID4gNSkgewogICAgLy8g5Liy5Y+j5bCG5YmN5oqT5Yqo5L2c57uE5oyH5Luk5Y+R5Ye65Y67CiAgICBTZXJpYWwucHJpbnRsbihjbGFtcF9hY3Rpb24pOwogICAgZGVsYXkoODAwMCk7CiAgICBpZiAoZGV0ZWN0ZWRfY29sb3IgPT0gInJlZCIpIHsKICAgICAgLy8g5Liy5Y+j5bCG57qi6Imy5pyo5Z2X5a+55bqU55qE5pS+572u5Yqo5L2c57uE5Y+R5Ye65Y67CiAgICAgIFNlcmlhbC5wcmludGxuKHJlZF9jbGFtcF9hY3Rpb24pOwoKICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWRfY29sb3IgPT0gImdyZWVuIikgewogICAgICAvLyDkuLLlj6PlsIbnu7/oibLmnKjlnZflr7nlupTnmoTmlL7nva7liqjkvZznu4Tlj5Hlh7rljrsKICAgICAgU2VyaWFsLnByaW50bG4oZ3JlZW5fY2xhbXBfYWN0aW9uKTsKICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWRfY29sb3IgPT0gImJsdWUiKSB7CiAgICAgIC8vIOS4suWPo+WwhuiTneiJsuacqOWdl+WvueW6lOeahOaUvue9ruWKqOS9nOe7hOWPkeWHuuWOuwogICAgICBTZXJpYWwucHJpbnRsbihibHVlX2NsYW1wX2FjdGlvbik7CiAgICB9CiAgICBkZWxheSg4MDAwKTsKICAgIC8vIOaUvue9ruWujOacqOWdl+WQju+8jOWGjeasoei/kOihjOWIsOacgOmAguWQiOeahOivhuWIq+S9jee9rgogICAgU2VyaWFsLnByaW50bG4oZGV0ZWN0aW9uX3Bvc2l0aW9uX2FjdGlvbik7CiAgICBkZWxheSgyMDAwKTsKICAgIHRhcmdldF9jb2xvcl9hcHBlYXJfY291bnQgPSAwOwogICAgZGV0ZWN0ZWRfY29sb3IgPSAiIjsKCiAgfQp9Cgp2b2lkIHNldHVwKCl7CiAgU2VyaWFsLmJlZ2luKDExNTIwMCk7CiAgV2lyZS5iZWdpbigpOwoKICBzeXN0aWNrX21zX2JhayA9IDA7CiAgZGV0ZWN0aW9uX3Bvc2l0aW9uX2FjdGlvbiA9ICIkREdUOjItMiwxISI7CiAgY2xhbXBfYWN0aW9uID0gIiRER1Q6My03LDEhIjsKICByZWRfY2xhbXBfYWN0aW9uID0gIiRER1Q6MTgtMjEsMSEiOwogIGdyZWVuX2NsYW1wX2FjdGlvbiA9ICIkREdUOjIyLTI2LDEhIjsKICBibHVlX2NsYW1wX2FjdGlvbiA9ICIkREdUOjI3LTMxLDEhIjsKICB0YXJnZXRfY29sb3JfYXBwZWFyX2NvdW50ID0gMDsKICBkZXRlY3RlZF9jb2xvciA9ICIiOwogIHdoaWxlIChTRU5UUllfT0sgIT0gc2VudHJ5LmJlZ2luKCZXaXJlKSkge3lpZWxkKCk7fQogIHNlbnRyeS5DYW1lcmFTZXRBd2Ioa0F1dG9XaGl0ZUJhbGFuY2UpOwogIHNlbnRyeS5WaXNpb25CZWdpbihTZW50cnkyOjprVmlzaW9uQmxvYik7CiAgLy8g5py65qKw6IeC5pyA6YCC5ZCI6K+G5Yir5pyo5Z2X55qE5L2N572u55qE5Yqo5L2c57uECiAgLy8g5aS55Y+W5Yqo5L2c57uE77yM5Y2z5YmN5oqT5Yqo5L2c57uECiAgLy8g57qi6Imy5pyo5Z2X55qE5pS+572u5Yqo5L2c57uE77yM5Y2z5YmN5pS+5Yqo5L2c57uECiAgLy8g57u/6Imy5pyo5Z2X55qE5pS+572u5Yqo5L2c57uE77yM5Y2z5bem5pS+5Yqo5L2c57uECiAgLy8g6JOd6Imy5pyo5Z2X55qE5pS+572u5Yqo5L2c57uE77yM5Y2z5Y+z5pS+5Yqo5L2c57uECiAgLy8g55uu5qCH6aKc6Imy5a6e6ZmF5Ye6546w55qE5qyh5pWw77yM5q+P5qyh55uu5qCH6aKc6Imy5Ye6546w55qE5qyh5pWw6LaF6L+HNeasoeaXtu+8jOaJjeiupOS4uuecn+eahOivhuWIq+WIsOS6huebruagh+minOiJsu+8jOaYr+S4uuS6humYsuatouivr+ivhuWIqwogIC8vIOiusOW9leajgOa1i+WIsOeahOminOiJsgogIGRlbGF5KDEwMDApOwogIFNlcmlhbC5wcmludGxuKCJpbml0IG9rISIpOwogIGRlbGF5KDIwMDApOwogIFNlcmlhbC5wcmludGxuKGRldGVjdGlvbl9wb3NpdGlvbl9hY3Rpb24pOwogIGRlbGF5KDIwMDApOwogIGNvdW50ID0gMTsKfQoKdm9pZCBsb29wKCl7CiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioKICDpopzoibLor4bliKvlpLnlj5bmnKjlnZcKICDlrp7pqozmlYjmnpzvvJoKICAgICAg5bCG57qi57u/6JOd5YW25Lit5Lu75oSP5LiA56eN6aKc6Imy55qE5pyo5Z2X5pS+572u5Zyo5py65qKw6IeC5q2j5YmN5pa5OOWOmOexs+W3puWPs+WkhO+8jAogICAgICBLMjEw5Lya5qC55o2u6K+G5Yir5Yiw55qE5pyo5Z2X6aKc6Imy5p2l5bCG5a+55bqU55qE5pyo5Z2X5pS+572u5Yiw5a+55bqU5L2N572u77yaCiAgICAgICAgICDlpoLmnpzor4bliKvliLDnmoTmmK/nuqLoibLmnKjlnZfvvIzliJnlpLnlj5bnuqLoibLmqKHlnZfmlL7nva7liLDliY3mlrnlgY/ov5zkvY3nva7vvJsKICAgICAgICAgIOWmguaenOivhuWIq+WIsOeahOaYr+e7v+iJsuacqOWdl++8jOWImeWkueWPlue7v+iJsuaooeWdl+aUvue9ruWIsOW3puS+p+WBj+i/nOS9jee9ru+8mwogICAgICAgICAg5aaC5p6c6K+G5Yir5Yiw55qE5piv6JOd6Imy5pyo5Z2X77yM5YiZ5aS55Y+W6JOd6Imy5qih5Z2X5pS+572u5Yiw5Y+z5L6n5YGP6L+c5L2N572u77ybCiAgICAgICAgICDmnKror4bliKvliLDnuqLnu7/ok53mnKjlnZfml7bvvIzkv53mjIHkuI3liqjjgIIKICDms6jmhI/vvJrnjq/looPlhYnkvJrlr7nor4bliKvmnInlvbHlk43vvIzmib7mr5TovoPlkIjpgILnmoTnjq/looPmnaXov5DooYzmraTnqIvluo/jgIIKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKICAgIGxvb3BfSzIxMCgpOwoKfQ==</code>